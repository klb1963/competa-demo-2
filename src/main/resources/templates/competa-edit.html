<!DOCTYPE HTML>
<!--Подключаем шаблонизатор-->
<html lang="en"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
>
<head>
    <title> Competa edit </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
            integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
            integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
            crossorigin="anonymous"></script>
</head>
<body>
<header th:insert="blocks/header.html :: header"></header>

<div class="container mt-5 mb-5">
    <h1>Edit Competa</h1>
    <br>
    <div sec:authorize="isAuthenticated()">Authenticated as <span sec:authentication="name"></span></div>
    <br>

    <!--    <form action="#" th:action="@{/competa/add}" method="post" th:object="${competa}"> // связали форму с объектом competa-->
    <form action="#" th:action="@{/competa/{id}/edit(id=${competa.id})}" th:object="${competa}" method="post">

        <div class="form-check form-check-inline">
            <input th:field="*{competaType}" th:checked="${competa.competaType} == 'Education'" class="form-check-input"
                   type="radio" name="competaType" id="inlineRadio1" value="Education">
            <label class="form-check-label" for="inlineRadio1">Education</label>
        </div>
        <div class="form-check form-check-inline">
            <input th:field="*{competaType}" th:checked="${competa.competaType} == 'Job'" type="radio"
                   name="competaType" id="inlineRadio2" value="Job">
            <label class="form-check-label" for="inlineRadio2">Job</label>
        </div>
        <div class="form-check form-check-inline">
            <input th:field="*{competaType}" th:checked="${competa.competaType} == 'Hard skill'"
                   class="form-check-input" type="radio" name="competaType" id="inlineRadio3" value="Hard skill">
            <label class="form-check-label" for="inlineRadio3">Hard skill</label>
        </div>
        <div class="form-check form-check-inline">
            <input th:field="*{competaType}" th:checked="${competa.competaType} == 'Soft skill'"
                   class="form-check-input" type="radio" name="competaType" id="inlineRadio4" value="Soft skill">
            <label class="form-check-label" for="inlineRadio3">Soft skill</label>
        </div>
        <br><br>
        <input type="text" th:value="${competa.title}" th:field="*{title}" name="title" placeholder="Input title"
               class="form-control"><br>
        <input type="text" th:value="${competa.description}" th:field="*{description}" name="description"
               placeholder="Input description" class="form-control"><br>
        <input type="date" th:value="${competa.dateOut}" th:field="*{dateOut}" name="dateOut" class="form-control"
               id="dateOutAdd" placeholder="Date of completion"><br>
        <div class="form-check">
            <input class="form-check-input" th:checked="${competa.status}" th:field="*{status}" name="status"
                   type="checkbox" id="defaultCheck1">
            <!--        th:field="*{competaType}"-->
            <label class="form-check-label" for="defaultCheck1">
                Public
            </label>
        </div>
        <br>
        <button type="submit" class="btn btn-success"> Update</button>
        <a th:href="@{/competa}" class="btn btn-secondary"> Back </a>
    </form>
</div>
<div th:insert="blocks/footer.html :: footer"></div>
</body>
</html>
